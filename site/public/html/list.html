
<div id='proto'></div>
	<div class='list-container' id='list'>
		<table id='prototable' style="width:50%">
			<tbody>
				<tr></tr>
			</tbody>
		</table>
	</div>

<script>
// /prototypes gets a JSON wich contains an array of prototype pattern info
 $.getJSON("/prototypes", function(data){
 	//	console.log(data);
 		var list = data.list;
 		//populate the table
 		for (var x = 0; x < list.length; x++){
 		//	console.log(list[x]);
 		// $('#list').append("<p><a href='./html/edit.html?id="+list[x]['id']+"'>"+list[x]['name']+"</a></p>");

		//	$('#list').append("<div class='protopattern' id=d"+list[x]['id']+">"+list[x]['name']+" | </div>");
		//		}

		$('#prototable').append("<tr> class='item'<td class='list-text'>"+list[x]['name']+"</td><td><button type='button' class='btn btn-info view' id='v"+list[x]['id']+"'>View</button></td><td><button type='button' class='btn btn-warning edit' id='e"+list[x]['id']+"'>Edit</button></td><td><button type='button' class='btn btn-success publish' id='p"+list[x]['id']+"'>Publish</button></td>");
		
		}

});


$(document).ready(function(){

		//if clicked on edit
		$('#prototable tbody').on('click', 'tr td button.edit', function(){
 			//alert("clicky!");
 			var number = this.id.substring(1);
 			//load a new page with the populated form
 			window.location.href='../html/edit.html?id='+number;
 		});

		//if clicked on edit
		$('#prototable tbody').on('click', 'tr td button.publish', function(){
 			//alert("clicky!");
 			var number = this.id.substring(1);
 			//load a new page with the populated form
 		//	window.location.href='../html/view.html?id='+number;
 		alert("Stub to publish pattern "+number);
 		});

		//if clicked on edit
		$('#prototable tbody').on('click', 'tr td button.view', function(){
 			var number = this.id.substring(1); 			
 		//	alert("stub to view pattern "+number);
 			//load a new page populating #centrestage div via URL query param
 			window.location.href='../html/protoview.html?id='+number;
 		});
});
 


</script>