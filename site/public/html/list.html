
<div id='proto'>A clickable list of protopatterns</div>
	<div id='list'>
	</div>
<script>
// /prototypes gets a JSON wich contains an array of prototype pattern info
 $.getJSON("/prototypes", function(data){
 		console.log(data);
 		var list = data.list;
 		for (x in list){
 			// $('#list').append("<p><a href='./html/edit.html?id="+list[x]['id']+"'>"+list[x]['name']+"</a></p>");
 		$('#list').append("<div class='protopattern' id=d"+list[x]['id']+">"+list[x]['name']+" | </div>");
 		}

 		//we dont know the ID of all proto patterns/divs in the #list 
 		//we make them all clickable, then grab the ID when clicked, and pass it to the .load() to load the edit form with URL param.

 		$('#list').on('click', 'div.protopattern', function(e){
 			//alert('you clicked on'+this.id);
 			//split the d from the number... as elemnt id's cannot be numberic
 			var number = this.id.substring(1);
 			//load a new page with the populated form
 			window.location.href='../html/edit.html?id='+number;
 		});
 });


</script>