<!doctype html>
<html>
	<head>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
     
    <!-- bootstrap -->
    <link type="text/css" rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
    <script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
     
    <!-- handlebars -->
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.js"></script>
     
    <!-- alpaca -->
    <link type="text/css" href="http://code.cloudcms.com/alpaca/1.5.8/bootstrap/alpaca.min.css" rel="stylesheet" />
    <script type="text/javascript" src="http://code.cloudcms.com/alpaca/1.5.8/bootstrap/alpaca.min.js"></script>

	</head>
	<body>


		<div>
			<nav>
			<button type='button' id='home'>Home</button> |
			<button type="button" id='addnew'>New pattern</button> |
			<button type ="button" id='edit'>Proto-patterns</button> |
			<button type='button' id='patterns'>Patterns</button>
		<!--	<a href='./html/newform.html'>New Pattern</a> |
			<a hrer='./html/list.html'>Proto-Patterns</a> |
			<a href='./html/patterns.html'>Patterns</a>			
			!-->
			</nav>
		</div>
		
		<p>Welcome to the world of patterns!</p>

		<div id="centerstage">
		</div>
		

		<!-- jQuery to switch out the main page div with the selected activity/data !-->
		<script>
		//handle nav buttons
			$('#addnew').click(function(){
				$('#centerstage').load("/html/newform.html");
			});
			
			$("#edit").click(function(){
				$('#centerstage').load("/html/list.html");
			});
			$('#home').click(function(){
				window.location.href='/';
			});

		//function to get and parse the URL params
        function GetQueryStringParams(sParam) {
        	var sPageURL = window.location.search.substring(1);
        	var sURLVariables = sPageURL.split('&');
        	for (var i = 0; i < sURLVariables.length; i++) {
            	var sParameterName = sURLVariables[i].split('=');
            	if (sParameterName[0] == sParam)
            	{
                	return sParameterName[1];
            	}
        	}
    	}

    	//fill out #centerstage with view of protopattern
    	$(document).ready(function(){
    		  var protoid = GetQueryStringParams('id');
    		   $.getJSON("/prototype/"+protoid, function(data){
 				//console.log(data);
 				$("#centerstage").append('<p>'+data['name']+'</p>');

				});
    		 
    	});
		</script>
	</body>
</html>